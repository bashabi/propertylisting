CREATE TABLE `property_listing`.`listings` (`id` INT(11) NOT NULL AUTO_INCREMENT , `user_id` INT(11) NOT NULL , `title` VARCHAR(255) NOT NULL , `description` LONGTEXT NOT NULL , `price` VARCHAR(45) NOT NULL , `type` VARCHAR(10) NOT NULL , `address` VARCHAR(255) NOT NULL , `city` VARCHAR(45) NOT NULL , `state` VARCHAR(255) NOT NULL , `phone` VARCHAR(45) NOT NULL , `email` VARCHAR(45) NOT NULL , `created_at` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP , PRIMARY KEY (`id`)) ENGINE = InnoDB;
CREATE TABLE `property_listing`.`users` (`id` INT NOT NULL AUTO_INCREMENT , `name` VARCHAR(255) NOT NULL , `email` VARCHAR(255) NOT NULL , `password` VARCHAR(255) NOT NULL , `created_at` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP , PRIMARY KEY (`id`)) ENGINE = InnoDB;
ALTER TABLE `listings` ADD CONSTRAINT `fk_listings_users` FOREIGN KEY (`user_id`) REFERENCES `users`(`id`) ON DELETE CASCADE ON UPDATE CASCADE;


INSERT INTO `listings` (`id`, `user_id`, `title`, `description`, `price`, `type`, `address`, `city`, `state`, `phone`, `email`, `created_at`) VALUES (NULL, '1', '3 bed semi-detached house for sale', 'This large semi-detached house is being offered for sale with no forward chain and features a separate lounge and dining room, good sized kitchen and large bedrooms. The property is ideally located within walking distance to several schools, Welling High Street and train station.This property is for sale by the Modern Method of Auction. Should you view, offer or bid on the property, your information will be shared with the Auctioneer, iamsold.', '450000', 'House', 'Danson Lane, Welling, Kent DA16', 'Kent', 'England', '02080 228456', 'john@gmail.com', CURRENT_TIMESTAMP), (NULL, '1', '2 bed flat for sale', 'This spacious 2 bedroom ground floor apartment would make an ideal first time buy/investment or downsize property. Ideally located in a sought after central Bexleyheath location within walking distance of Bexleyheath Broadway Shopping Centre and with excellent transport links. This property comprises of hall, open plan lounge, dining area and kitchen, 2 bedrooms with master en-suite and family bathroom. Also benefits from a large private terrace area and allocated parking.', '350000', 'Flat', 'Sterling Road, Bexleyheath DA7', 'Bexleyheath', 'England', '02080 228456', 'jon@gmail.com', CURRENT_TIMESTAMP);